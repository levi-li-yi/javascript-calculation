<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="renderer" content="webkit"/>
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <title>test</title>
  </head>
  <body>
	<a class="api a">a.html</a>
	<a class="api b">b.html</a>
	<script>
		document.querySelectorAll('.api').forEach(item => {
		  item.addEventListener('click', e => {
			e.preventDefault();
			let link = item.textContent;
			if (!!(window.history && history.pushState)) {
			  // 支持History API
			  window.history.pushState({name: 'api'}, link, link);
			} else {
			  // 不支持,可使用一些Polyfill库来实现
			}
		  }, false)
		});
		// 监听路由
		window.addEventListener('popstate', e => {
		  console.log({
			location: location.href,
			state: e.state
		  })
		}, false)
    // 注册路由
    /*document.querySelectorAll('.api').forEach(item => {
        item.addEventListener('click', e => {
            e.preventDefault();
            let link = item.textContent;
            location.hash = link;
        }, false)
    });

    // 监听路由
    window.addEventListener('hashchange', e => {
        console.log({
            location: location.href,
            hash: location.hash
        })
    }, false)*/
	</script>
  </body>
</html>
